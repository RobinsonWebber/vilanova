<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Gerador de Bilhetes</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    @media print {
      @page {
        size: 58mm auto;
        margin: 2mm; /* margem mÃ­nima para respirar */
      }
      body * { visibility: hidden; }
      .print-area, .print-area * { visibility: visible; }
      .print-area {
        position: absolute;
        top: 0;
        left: 0;
        width: calc(100% - 4mm); /* compensa a margem */
        margin: 0 auto; /* centraliza */
        font-size: 14pt;
        line-height: 1.4;
      }
      .card {
        border: none;
      }
    }
    /* Dark mode */
    body.dark-mode {
      background-color: #121212 !important;
      color: #e0e0e0 !important;
    }
    body.dark-mode .card {
      background-color: #1e1e1e;
      color: #e0e0e0;
    }
    body.dark-mode .form-control {
      background-color: #2a2a2a;
      color: #e0e0e0;
      border-color: #444;
    }
    body.dark-mode .form-control:focus {
      background-color: #333;
      color: #fff;
    }
  </style>
</head>
<body class="bg-light">

  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-5">

        <div class="d-flex justify-content-between align-items-center mb-3">
          <h2 class="m-0">ðŸ“œ Bilhetes</h2>
          <button class="btn btn-outline-secondary btn-sm" onclick="toggleDarkMode()">ðŸŒ™</button>
        </div>

        <div class="card shadow p-4">
          <h4 class="text-center mb-4">Gerador de Bilhete</h4>

          <div class="mb-3">
            <label class="form-label">Nome do aluno</label>
            <input type="text" id="nome" class="form-control">
          </div>

          <div class="mb-3">
            <label class="form-label">Turma</label>
            <input type="text" id="turma" class="form-control">
          </div>

          <div class="mb-3">
            <label class="form-label">ObservaÃ§Ãµes</label>
            <textarea id="obs" class="form-control" rows="3"></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label">Data</label>
            <input type="date" id="data" class="form-control">
          </div>

          <div class="d-grid gap-2">
            <button onclick="gerarBilhete()" class="btn btn-primary">Gerar Bilhete</button>
            <button onclick="window.print()" class="btn btn-success">Imprimir</button>
          </div>
        </div>

        <div id="printArea" class="print-area mt-4" style="display:none;"></div>

      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    function gerarBilhete() {
      const nome = document.getElementById("nome").value;
      const turma = document.getElementById("turma").value;
      const obs = document.getElementById("obs").value;
      const dataInput = document.getElementById("data").value;
      const data = dataInput ? dataInput.split("-").reverse().join("/") : "";

      const conteudo = `
        <div>
          <div class="text-center fw-bold">E.M.E.B. VILA NOVA</div>
          <div class="text-center">Rua Onze Horas, Rosa do Mar, Passo de Torres â€“ SC</div>
          <hr>
          <b>Prof.:</b> Robinson Webber<br>
          <b>Disc.:</b> InformÃ¡tica<br>
          <hr>
          Senhores pais e (ou) responsÃ¡veis, viemos atravÃ©s deste comunicar que o(a) aluno(a):<br><br>
          <b>${nome}</b><br><br>
          ${obs}<br><br>
          <b>Turma:</b> ${turma}<br>
          <b>Data:</b> ${data}<br><br>
          _____________________<br>
          Assinatura professor<br><br>
          _____________________<br>
          Assinatura responsÃ¡vel
        </div>

        <hr style="border-top: 2px dashed black; margin: 10px 0;">

        <div>
          <div class="text-center fw-bold">Comprovante de Entrega</div>
          <hr>
          <b>Aluno:</b> ${nome}<br>
          <b>Data:</b> ${data}<br>
          <b>Motivo:</b> ${obs}<br><br>
          ___________________<br>
          Assinatura aluno
        </div>
      `;

      document.getElementById("printArea").innerHTML = conteudo;
      document.getElementById("printArea").style.display = "block";
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }
  </script>
</body>
</html>
